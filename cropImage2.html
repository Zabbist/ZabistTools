<!DOCTYPE html>
<html>
  <head>
    <title>Image Separator</title>
    <script>
    function separateImages() {
        var input = document.getElementById("input").files[0];
        var img = new Image();
        img.src = URL.createObjectURL(input);
        img.onload = function() {
            var canvas = document.createElement("canvas");
            var ctx = canvas.getContext("2d");
            canvas.width = img.width;
            canvas.height = img.height;
            ctx.drawImage(img, 0, 0);
            var imgData = ctx.getImageData(0, 0, canvas.width, canvas.height);
            var img1 = ctx.createImageData(img.width/2-5, img.height/2-5);
            var img2 = ctx.createImageData(img.width/2-5, img.height/2-5);
            var img3 = ctx.createImageData(img.width/2-5, img.height/2-5);
            var img4 = ctx.createImageData(img.width/2-5, img.height/2-5);
            var index = 0;
            for (var y = 5; y < img.height/2+5; y++) {
                for (var x = 5; x < img.width/2+5; x++) {
                    var i = (y * img.width + x) * 4;
                    img1.data[index] = imgData.data[i];
                    img1.data[index+1] = imgData.data[i+1];
                    img1.data[index+2] = imgData.data[i+2];
                    img1.data[index+3] = imgData.data[i+3];
                    index += 4;
                }
            }

            index = 0;
            for (var y = 5; y < img.height/2+5; y++) {
                for (var x = img.width/2+10; x < img.width; x++) {
                    var i = (y * img.width + x) * 4;
                    img2.data[index] = imgData.data[i];
                    img2.data[index+1] = imgData.data[i+1];
                    img2.data[index+2] = imgData.data[i+2];
                    img2.data[index+3] = imgData.data[i+3];
                    index += 4;
                }
            }
            index = 0;
            for (var y = img.height/2+10; y < img.height; y++) {
                for (var x = 5; x < img.width/2+5; x++) {
                    var i = (y * img.width + x) * 4;
                    img3.data[index] = imgData.data[i];
                    img3.data[index+1] = imgData.data[i+1];
                    img3.data[index+2] = imgData.data[i+2];
                    img3.data[index+3] = imgData.data[i+3];
                    index += 4;
                }
            }
            index = 0;
            for (var y = img.height/2+10; y < img.height; y++) {
                for (var x = img.width/2+10; x < img.width; x++) {
                    var i = (y * img.width + x) * 4;
                    img4.data[index] = imgData.data[i];
                    img4.data[index+1] = imgData.data[i+1];
                    img4.data[index+2] = imgData.data[i+2];
                    img4.data[index+3] = imgData.data[i+3];
                    index += 4;
                }
            }
            // Create a new canvas to draw each image
            var canvas1 = document.createElement("canvas");
            var ctx1 = canvas1.getContext("2d");
            canvas1.width = img.width/2-5;
            canvas1.height = img.height/2-5;
            ctx1.putImageData(img1, 0, 0);

            var canvas2 = document.createElement("canvas");
            var ctx2 = canvas2.getContext("2d");
            canvas2.width = img.width/2-5;
            canvas2.height = img.height/2-5;
            ctx2.putImageData(img2, 0, 0);

            var canvas3 = document.createElement("canvas");
            var ctx3 = canvas3.getContext("2d");
            canvas3.width = img.width/2-5;
            canvas3.height = img.height/2-5;
            ctx3.putImageData(img3, 0,
            0);

            var canvas4 = document.createElement("canvas");
            var ctx4 = canvas4.getContext("2d");
            canvas4.width = img.width/2-5;
            canvas4.height = img.height/2-5;
            ctx4.putImageData(img4, 0, 0);

            // Create links to download the separated images
            var link1 = document.createElement("a");
            link1.download = "separated_image1.jpg";
            link1.href = canvas1.toDataURL();
            link1.click();

            var link2 = document.createElement("a");
            link2.download = "separated_image2.jpg";
            link2.href = canvas2.toDataURL();
            link2.click();

            var link3 = document.createElement("a");
            link3.download = "separated_image3.jpg";
            link3.href = canvas3.toDataURL();
            link3.click();

            var link4 = document.createElement("a");
            link4.download = "separated_image4.jpg";
            link4.href = canvas4.toDataURL();
            link4.click();
        }
    }
    </script>
  </head>
  <body>
    <h1>Image Separator</h1>
    <input type="file" id="input" accept="image/*" onchange="separateImages()">
  </body>
</html>
